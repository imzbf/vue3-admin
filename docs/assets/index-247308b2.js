import{a0 as X}from"./index-421ab8f7.js";import{u as N,k as T,m as S,f as Y}from"./index-1a7a4304.js";import{R as G,S as J,T as Q,U as Z,V as ee,o as te,W as ne,X as se,Y as oe,f as ae}from"./index-b1848637.js";import{x as b,a6 as le,a7 as l,y as s,H as u,I as n,P as e,L as w,A as a,O as V,u as o,z as f,a0 as A,F as z,e as F,V as R,M as $,D as ie,K as ce,aE as re}from"./runtime-core.esm-bundler-65d2a1d3.js";import{g as ue}from"./index-91c8cad4.js";import{u as P,R as U,b as _e}from"./vue-router-643bf02a.js";import{s as M}from"./index-578bfdd4.js";import{D as de}from"./urls-b890ecc0.js";import{_ as K}from"./index.vue_vue_type_script_setup_true_lang-267a9ddb.js";import{_ as me}from"./_plugin-vue_export-helper-c27b6911.js";import{g as pe}from"./index-b8a51915.js";import{E as fe}from"./index-45e128f3.js";const O=b({name:"IzMenuIcon",props:{iconName:{type:String,default:""}},render(){return le(G[this.iconName])}}),j=b({__name:"MenuItem",props:{menu:{type:Object,default:()=>({})}},setup(p){const t=p,m=P();return(_,i)=>{const r=l("el-icon"),h=l("el-menu-item");return t.menu.outLink?(s(),u(h,{key:0,onClick:i[0]||(i[0]=c=>o(ue)(t.menu.outLink))},{default:n(()=>[p.menu.iconName?(s(),u(r,{key:0},{default:n(()=>[e(O,{"icon-name":p.menu.iconName},null,8,["icon-name"])]),_:1})):w("",!0),a("span",null,V(t.menu.title),1)]),_:1})):(s(),u(h,{key:1,index:t.menu.path,onClick:i[1]||(i[1]=c=>o(m).push(t.menu.path))},{default:n(()=>[p.menu.iconName?(s(),u(r,{key:0},{default:n(()=>[e(O,{"icon-name":p.menu.iconName},null,8,["icon-name"])]),_:1})):w("",!0),a("span",null,V(t.menu.title),1)]),_:1},8,["index"]))}}}),ge={ddd:""},he=b({__name:"SubMenu",props:{menuList:{type:Array,default:()=>[]}},setup(p){const t=p;return(m,_)=>{const i=l("el-icon"),r=l("sub-menu",!0),h=l("el-sub-menu");return s(!0),f(z,null,A(t.menuList,c=>(s(),f(z,{key:c.path},[c.outLink?(s(),u(j,{key:0,menu:c},null,8,["menu"])):c.children.length===0?(s(),u(j,{key:1,menu:c},null,8,["menu"])):c.children.length===1?(s(),u(j,{key:2,menu:c.children[0]},null,8,["menu"])):(s(),u(h,{key:3,index:c.path},{title:n(()=>[c.iconName?(s(),u(i,{key:0},{default:n(()=>[e(O,{"icon-name":c.iconName},null,8,["icon-name"])]),_:2},1024)):w("",!0),a("span",null,V(c.title),1)]),default:n(()=>[(s(!0),f(z,null,A(c.children,d=>(s(),f(z,null,[d.children.length===0?(s(),u(j,{key:`el-menu-item-${d.title}`,menu:d},null,8,["menu"])):(s(),u(h,{key:`el-sub-menu-${d.title}`,index:d.path},{title:n(()=>[d.iconName?(s(),u(i,{key:0},{default:n(()=>[e(O,{"icon-name":d.iconName},null,8,["icon-name"])]),_:2},1024)):w("",!0),a("span",ge,V(d.title),1)]),default:n(()=>[e(r,{"menu-list":d.children},null,8,["menu-list"])]),_:2},1032,["index"]))],64))),256))]),_:2},1032,["index"]))],64))),128)}}});const be={name:"IzMenu"},H=b({...be,setup(p){const t=N(T),m=F(()=>!t.state.setting.isMobile&&t.state.setting.aside==="close");return(_,i)=>{const r=l("el-menu");return s(),u(r,{class:"aside-menu dark-menu","collapse-transition":!1,collapse:o(m),"default-active":o(t).state.setting.selectedKey,"default-openeds":o(t).state.setting.openKeys},{default:n(()=>[e(he,{"menu-list":o(t).state.menu.menuList},null,8,["menu-list"])]),_:1},8,["collapse","default-active","default-openeds"])}}});const ye={name:"IzMessage"},ve=b({...ye,setup(p){const t="/vue3-admin";return R({list:[{avatar:`${t}/static/img/boy01.jpg`,title:"小五郎 评论了你",desc:"柯南要请饭，收到请回话！",date:"两天前"},{avatar:`${t}/static/img/head02.gif`,title:"小五郎 评论了你",desc:"柯南要请饭，收到请回话！",date:"两天前"},{avatar:`${t}/static/img/boy01.jpg`,title:"小五郎 评论了你",desc:"柯南要请饭，收到请回话！",date:"两天前"},{avatar:`${t}/static/img/boy01.jpg`,title:"小五郎 评论了你",desc:"柯南要请饭，收到请回话！",date:"两天前"}]}),(m,_)=>(s(),f("span",null,"消息"))}}),$e={name:"IzNotification"},ke=b({...$e,setup(p){return R({list:[{avatar:"/static/img/i004.png",title:"你有两个邮件未回复！",desc:"两天前"},{avatar:"/static/img/i003.png",title:"你有3个合并请求待审核！",desc:"昨天"},{avatar:"/static/img/i002.png",title:"你下午有两场前端面试！",desc:"刚刚"},{avatar:"/static/img/i001.png",title:"我没有什么可以写的了！",desc:"两天前"}]}),(t,m)=>(s(),f("span",null,"通知"))}}),we={name:"IzTodo"};function xe(p,t,m,_,i,r){return s(),f("span",null,"代办")}const Ce=me(we,[["render",xe]]),Me={class:"layout-header"},ze={class:"layout-header-left"},Ve={class:"breadcrumb-help"},De={class:"layout-header-right"},Ne=a("span",{style:{"padding-left":"4px"}},"默认主题",-1),Te=a("span",{style:{"padding-left":"4px"}},"暗黑主题",-1),Ee={name:"HeaderIndex"},Ie=b({...Ee,setup(p){const t=N(T),m=R({isFullscreen:!1,bellContent:!1}),_=()=>{t.state.setting.isMobile?t.commit("setting/adjustMobileDrawer",{mobileDrawer:!t.state.setting.mobileDrawer}):t.commit("setting/asideState",{aside:t.state.setting.aside==="open"?"close":"open"})},i=c=>{t.commit("setting/themeChanged",{theme:c})},r=()=>{M.isEnabled?M.isFullscreen?M.exit():M.request():pe.error("浏览器不支持全屏")},h=()=>{t.dispatch("user/logout").catch(c=>{fe({type:"warning",title:"操作失败！",message:(c==null?void 0:c.msg)||"未知的异常！"})})};return M.isEnabled&&M.on("change",()=>{m.isFullscreen=!m.isFullscreen}),(c,d)=>{const k=l("el-icon"),y=l("el-breadcrumb-item"),v=l("el-breadcrumb"),E=l("el-badge"),D=l("el-tab-pane"),C=l("el-tabs"),B=l("el-popover"),x=l("el-dropdown-item"),g=l("el-dropdown-menu"),I=l("el-dropdown"),W=l("el-avatar");return s(),f("header",Me,[a("ul",ze,[a("li",{class:"cper",onClick:_},[o(t).state.setting.aside==="open"?(s(),u(k,{key:0,size:18},{default:n(()=>[e(o(J))]),_:1})):(s(),u(k,{key:1,size:18},{default:n(()=>[e(o(Q))]),_:1}))]),a("li",Ve,[e(v,{separator:"/"},{default:n(()=>[(s(!0),f(z,null,A(o(t).state.setting.breadcrumbs,L=>(s(),u(y,{key:L},{default:n(()=>[$(V(L),1)]),_:2},1024))),128))]),_:1})])]),a("ul",De,[e(B,null,{reference:n(()=>[a("li",null,[e(E,{value:12},{default:n(()=>[e(k,null,{default:n(()=>[e(o(Z))]),_:1})]),_:1})])]),default:n(()=>[e(C,{"model-value":"notice"},{default:n(()=>[e(D,{name:"notice",label:"通知"},{default:n(()=>[e(ke)]),_:1}),e(D,{name:"message",label:"消息"},{default:n(()=>[e(ve)]),_:1}),e(D,{name:"todo",label:"代办"},{default:n(()=>[e(Ce)]),_:1})]),_:1})]),_:1}),e(I,null,{dropdown:n(()=>[e(g,null,{default:n(()=>[e(x,{onClick:d[0]||(d[0]=L=>i("light"))},{default:n(()=>[e(K,{type:"icon-sun"}),Ne]),_:1}),e(x,{onClick:d[1]||(d[1]=L=>i("dark"))},{default:n(()=>[e(K,{type:"icon-moon"}),Te]),_:1})]),_:1})]),default:n(()=>[a("li",null,[e(k,null,{default:n(()=>[e(o(ee))]),_:1})])]),_:1}),a("li",{onClick:r},[e(k,null,{default:n(()=>[e(o(te))]),_:1})]),e(I,null,{dropdown:n(()=>[e(g,null,{default:n(()=>[e(x,{icon:o(ne)},{default:n(()=>[e(o(U),{to:"/user",class:"layout-header-link"},{default:n(()=>[$(" 个人中心 ")]),_:1})]),_:1},8,["icon"]),e(x,{icon:o(se)},{default:n(()=>[e(o(U),{to:"/user/setting",class:"layout-header-link"},{default:n(()=>[$(" 个人设置 ")]),_:1})]),_:1},8,["icon"]),e(x,{icon:o(oe),onClick:h},{default:n(()=>[$(" 退出登录 ")]),_:1},8,["icon"])]),_:1})]),default:n(()=>[a("li",null,[e(W,{size:"small",src:o(de)},null,8,["src"])])]),_:1})])])}}});const q="https://imzbf.github.io/vue3-admin/assets/logo-03d6d6da.png",Le={class:"layout-bar"},Se={class:"layout-bar-action cper"},je={name:"BarLayout"},Ae=b({...je,setup(p){const t=N(T),m=P(),_=_e(),i=F(()=>t.state.setting.menuTags.length>1),r=y=>Y.find(v=>v.path===y.path)!==void 0,h=y=>{m.push(y.path)},c=y=>{t.commit("setting/removeMenuTag",{type:S.rmTarget,route:y})},d=y=>{t.commit("setting/removeMenuTag",{type:y})},k=()=>{m.replace(`/redirect${_.path}`)};return(y,v)=>{const E=l("el-tag"),D=l("el-icon"),C=l("el-dropdown-item"),B=l("el-dropdown-menu"),x=l("el-dropdown");return s(),f("div",Le,[(s(!0),f(z,null,A(o(t).state.setting.menuTags,g=>(s(),u(E,{key:g.title,class:"cper",closable:!r(g)&&o(i),effect:g.curr?"dark":"plain",type:g.curr?"success":"info",onClick:I=>h(g),onClose:I=>c(g)},{default:n(()=>[$(V(g.title),1)]),_:2},1032,["closable","effect","type","onClick","onClose"]))),128)),a("span",Se,[e(x,{"show-timeout":0,size:"mini",placement:"bottom-end",trigger:"click"},{dropdown:n(()=>[e(B,null,{default:n(()=>[e(C,{onClick:k},{default:n(()=>[$("刷新当前")]),_:1}),o(i)?(s(),u(C,{key:0,onClick:v[0]||(v[0]=g=>d(o(S).rmCurr))},{default:n(()=>[$("关闭当前")]),_:1})):w("",!0),o(i)?(s(),u(C,{key:1,onClick:v[1]||(v[1]=g=>d(o(S).rmOther))},{default:n(()=>[$("关闭其他")]),_:1})):w("",!0),o(i)?(s(),u(C,{key:2,onClick:v[2]||(v[2]=g=>d(o(S).rmAll))},{default:n(()=>[$("关闭所有")]),_:1})):w("",!0)]),_:1})]),default:n(()=>[e(E,{type:"info"},{default:n(()=>[e(D,null,{default:n(()=>[e(o(ae))]),_:1})]),_:1})]),_:1})])])}}});const Fe={class:"other-setting"},Oe={class:"other-setting-item"},Re=a("label",{for:"setting-tag"},"头部菜单",-1),Be={class:"other-setting-item"},Ue=a("label",{for:"setting-tag"},"标签导航",-1),Ke={class:"other-setting-item"},He=a("label",{for:"setting-tag"},"标签导航",-1),qe={name:"IzOther"},Pe=b({...qe,setup(p){const t=R({header:!0,bar:!0});return(m,_)=>{const i=l("el-switch");return s(),f("div",Fe,[a("div",Oe,[Re,e(i,{id:"setting-tag",modelValue:t.header,"onUpdate:modelValue":_[0]||(_[0]=r=>t.header=r)},null,8,["modelValue"])]),a("div",Be,[Ue,e(i,{id:"setting-tag",modelValue:t.bar,"onUpdate:modelValue":_[1]||(_[1]=r=>t.bar=r)},null,8,["modelValue"])]),a("div",Ke,[He,e(i,{id:"setting-tag",modelValue:t.bar,"onUpdate:modelValue":_[2]||(_[2]=r=>t.bar=r)},null,8,["modelValue"])])])}}});const We={name:"IzSetting"},Xe=b({...We,setup(p){const t=N(T);return(m,_)=>{const i=l("el-divider"),r=l("el-drawer");return s(),u(r,{"model-value":o(t).state.setting.settingDrawerVisible,direction:"rtl",size:"280px","with-header":!1,onClose:_[0]||(_[0]=h=>o(t).commit("setting/settingDrawerVisibleChanged"))},{default:n(()=>[e(i,null,{default:n(()=>[$("其他设置")]),_:1}),e(Pe)]),_:1},8,["model-value"])}}}),Ye={class:"layout-aside"},Ge={class:"logo"},Je=["src"],Qe=a("span",null,"后台管理模板",-1),Ze={class:"menu-container"},et=a("footer",{class:"copyright"},[a("span",null,"@2020 imzbf.cc")],-1),tt={key:1,class:"layout-aside"},nt={class:"logo"},st=["src"],ot={key:0},at={class:"menu-container"},lt={key:0,class:"copyright"},it=a("span",null,"@2020 imzbf.cc",-1),ct=[it],rt={class:"layout"},ut={class:"layout-main"},_t={class:"drawer"},dt="Layout",mt={name:dt},Mt=b({...mt,setup(p){const t=N(T),m=F(()=>{const r=["wrapper"];return t.state.setting.aside!=="open"&&r.push("aside-close"),t.state.setting.isMobile&&r.push("is-mobile"),r}),_=F(()=>t.state.setting.aside==="open"),i=()=>{t.commit("setting/adjustMobileDrawer",{mobileDrawer:!t.state.setting.mobileDrawer})};return(r,h)=>{const c=l("el-drawer"),d=l("router-view");return s(),f("section",{class:ie(o(m))},[o(t).state.setting.isMobile?(s(),u(c,{key:0,"model-value":o(t).state.setting.mobileDrawer,direction:"ltr",size:"auto","with-header":!1,"custom-class":"mobile-menu-drawer",onClose:i},{default:n(()=>[a("div",Ye,[a("header",Ge,[a("img",{src:o(q)},null,8,Je),Qe]),a("div",Ze,[e(H)]),et])]),_:1},8,["model-value"])):(s(),f("div",tt,[a("header",nt,[a("img",{src:o(q)},null,8,st),o(_)?(s(),f("span",ot,"后台管理模板")):w("",!0)]),a("div",at,[e(H)]),o(_)?(s(),f("footer",lt,ct)):w("",!0)])),a("div",rt,[e(Ie),e(Ae),a("main",ut,[e(d,null,{default:n(({Component:k})=>[e(X,{name:"fade",mode:"out-in"},{default:n(()=>[(s(),u(re,{include:o(t).state.setting.cacheList},[(s(),u(ce(k)))],1032,["include"]))]),_:2},1024)]),_:1})])]),a("div",_t,[e(Xe)])],2)}}});export{Mt as default};
