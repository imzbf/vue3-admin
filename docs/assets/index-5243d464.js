import{d as k,h as J,u as P,r as l,o as s,c as u,w as n,a as t,b as v,e as o,t as h,f as a,g as Q,i as g,j as L,F as M,k as N,l as T,m as I,n as O,R as F,p as $,E as W,q as X,s as Y,v as x,x as Z,y as ee,T as te,z as ne,K as se}from"./index-e20ef559.js";import{I as oe,f as ae,e as le,b as ie,s as ue,m as ce,a as re,u as de,c as _e,d as me,g as pe}from"./index-8a74aba0.js";import{s as D}from"./index-b3e6dc1f.js";import{D as fe}from"./urls-b890ecc0.js";import{_ as ge}from"./index.vue_vue_type_script_setup_true_lang-e0e899c4.js";import{_ as he}from"./_plugin-vue_export-helper-c27b6911.js";const S=k({name:"IzMenuIcon",props:{iconName:{type:String,default:""}},render(){return J(oe[this.iconName])}}),z=k({__name:"MenuItem",props:{menu:{type:Object,default:()=>({})}},setup(f){const e=f,p=P();return(c,r)=>{const d=l("ElIcon"),y=l("ElMenuItem");return e.menu.outLink?(s(),u(y,{key:0,onClick:r[0]||(r[0]=_=>a(Q)(e.menu.outLink))},{default:n(()=>[f.menu.iconName?(s(),u(d,{key:0},{default:n(()=>[t(S,{iconName:f.menu.iconName},null,8,["iconName"])]),_:1})):v("",!0),o("span",null,h(c.$t(e.menu.title)),1)]),_:1})):(s(),u(y,{key:1,index:e.menu.path,onClick:r[1]||(r[1]=_=>a(p).push(e.menu.path))},{default:n(()=>[f.menu.iconName?(s(),u(d,{key:0},{default:n(()=>[t(S,{iconName:f.menu.iconName},null,8,["iconName"])]),_:1})):v("",!0),o("span",null,h(c.$t(e.menu.title)),1)]),_:1},8,["index"]))}}}),ye=k({__name:"SubMenu",props:{menuList:{type:Array,default:()=>[]}},setup(f){const e=f;return(p,c)=>{const r=l("ElIcon"),d=l("SubMenu",!0),y=l("ElSubMenu");return s(!0),g(M,null,L(e.menuList,_=>(s(),g(M,{key:_.path},[_.outLink?(s(),u(z,{key:0,menu:_},null,8,["menu"])):_.children.length===0?(s(),u(z,{key:1,menu:_},null,8,["menu"])):_.children.length===1?(s(),u(z,{key:2,menu:_.children[0]},null,8,["menu"])):(s(),u(y,{key:3,index:_.path},{title:n(()=>[_.iconName?(s(),u(r,{key:0},{default:n(()=>[t(S,{iconName:_.iconName},null,8,["iconName"])]),_:2},1024)):v("",!0),o("span",null,h(p.$t(_.title)),1)]),default:n(()=>[(s(!0),g(M,null,L(_.children,i=>(s(),g(M,null,[i.children.length===0?(s(),u(z,{key:`el-menu-item-${i.title}`,menu:i},null,8,["menu"])):(s(),u(y,{key:`el-sub-menu-${i.title}`,index:i.path},{title:n(()=>[i.iconName?(s(),u(r,{key:0},{default:n(()=>[t(S,{iconName:i.iconName},null,8,["iconName"])]),_:2},1024)):v("",!0),o("span",null,h(p.$t(i.title)),1)]),default:n(()=>[t(d,{menuList:i.children},null,8,["menuList"])]),_:2},1032,["index"]))],64))),256))]),_:2},1032,["index"]))],64))),128)}}});const be={name:"IzMenu"},H=k({...be,setup(f){const e=N(T),p=I(()=>!e.state.setting.isMobile&&e.state.setting.aside==="close");return(c,r)=>{const d=l("ElMenu");return s(),u(d,{class:"aside-menu dark-menu",collapseTransition:!1,collapse:p.value,defaultActive:a(e).state.setting.selectedKey,defaultOpeneds:a(e).state.setting.openKeys},{default:n(()=>[t(ye,{menuList:a(e).state.menu.menuList},null,8,["menuList"])]),_:1},8,["collapse","defaultActive","defaultOpeneds"])}}});const Ee={name:"IzMessage"},$e=k({...Ee,setup(f){const e="/vue3-admin";return O({list:[{avatar:`${e}/static/img/boy01.jpg`,title:"小五郎 评论了你",desc:"柯南要请饭，收到请回话！",date:"两天前"},{avatar:`${e}/static/img/head02.gif`,title:"小五郎 评论了你",desc:"柯南要请饭，收到请回话！",date:"两天前"},{avatar:`${e}/static/img/boy01.jpg`,title:"小五郎 评论了你",desc:"柯南要请饭，收到请回话！",date:"两天前"},{avatar:`${e}/static/img/boy01.jpg`,title:"小五郎 评论了你",desc:"柯南要请饭，收到请回话！",date:"两天前"}]}),(p,c)=>(s(),g("span",null,"消息"))}}),ke={name:"IzTodo"};function ve(f,e,p,c,r,d){return s(),g("span",null,"代办")}const we=he(ke,[["render",ve]]),De={class:"layout-header"},Me={class:"layout-header-left"},Ie={class:"breadcrumb-help"},Ne={class:"layout-header-right"},Te={name:"HeaderIndex"},Ce=k({...Te,setup(f){const e=N(T),p=O({isFullscreen:!1,bellContent:!1}),c=I(()=>e.state.setting.theme==="dark"),r=()=>{e.state.setting.isMobile?e.commit("setting/adjustMobileDrawer",{mobileDrawer:!e.state.setting.mobileDrawer}):e.commit("setting/asideState",{aside:e.state.setting.aside==="open"?"close":"open"})},d=()=>{e.commit("setting/themeChanged",{theme:c.value?"light":"dark"})},y=()=>{D.isEnabled?D.isFullscreen?D.exit():D.request():W.error("浏览器不支持全屏")},_=()=>{e.dispatch("user/logout").catch(i=>{X({type:"warning",title:"操作失败！",message:(i==null?void 0:i.msg)||"未知的异常！"})})};return D.isEnabled&&D.on("change",()=>{p.isFullscreen=!p.isFullscreen}),(i,C)=>{const m=l("ElIcon"),E=l("ElBreadcrumbItem"),V=l("ElBreadcrumb"),B=l("ElBadge"),w=l("ElTabPane"),j=l("ElTabs"),A=l("ElPopover"),b=l("ElDropdownItem"),U=l("ElDropdownMenu"),q=l("ElAvatar"),G=l("ElDropdown");return s(),g("header",De,[o("ul",Me,[o("li",{class:"cper",onClick:r},[a(e).state.setting.aside==="open"?(s(),u(m,{key:0,size:18},{default:n(()=>[t(a(ae))]),_:1})):(s(),u(m,{key:1,size:18},{default:n(()=>[t(a(le))]),_:1}))]),o("li",Ie,[t(V,{separator:"/"},{default:n(()=>[(s(!0),g(M,null,L(a(e).state.setting.breadcrumbs,R=>(s(),u(E,{key:R},{default:n(()=>[$(h(i.$t(R)),1)]),_:2},1024))),128))]),_:1})])]),o("ul",Ne,[t(A,null,{reference:n(()=>[o("li",null,[t(B,{value:12},{default:n(()=>[t(m,null,{default:n(()=>[t(a(ie))]),_:1})]),_:1})])]),default:n(()=>[t(j,{modelValue:"message"},{default:n(()=>[t(w,{name:"message",label:i.$t("消息")},{default:n(()=>[t($e)]),_:1},8,["label"]),t(w,{name:"todo",label:i.$t("代办")},{default:n(()=>[t(we)]),_:1},8,["label"])]),_:1})]),_:1}),o("li",{onClick:d},[c.value?(s(),u(m,{key:0},{default:n(()=>[t(a(ue))]),_:1})):(s(),u(m,{key:1},{default:n(()=>[t(a(ce))]),_:1}))]),t(ge,{wrapper:""}),o("li",{onClick:y},[t(m,null,{default:n(()=>[t(a(re))]),_:1})]),t(G,null,{dropdown:n(()=>[t(U,null,{default:n(()=>[t(b,{icon:a(de)},{default:n(()=>[t(a(F),{to:"/user",class:"layout-header-link"},{default:n(()=>[$(h(i.$t("个人中心")),1)]),_:1})]),_:1},8,["icon"]),t(b,{icon:a(_e)},{default:n(()=>[t(a(F),{to:"/user/setting",class:"layout-header-link"},{default:n(()=>[$(h(i.$t("个人设置")),1)]),_:1})]),_:1},8,["icon"]),t(b,{icon:a(me),onClick:_},{default:n(()=>[$(h(i.$t("退出登录")),1)]),_:1},8,["icon"])]),_:1})]),default:n(()=>[o("li",null,[t(q,{size:"small",src:a(fe)},null,8,["src"])])]),_:1})])])}}});const K="https://imzbf.github.io/vue3-admin/assets/logo-03d6d6da.png",Ve={class:"layout-bar"},xe={class:"layout-bar-action cper"},ze={name:"BarLayout"},Le=k({...ze,setup(f){const e=N(T),p=P(),c=Y(),r=I(()=>e.state.setting.menuTags.length>1),d=m=>Z.find(E=>E.path===m.path)!==void 0,y=m=>{p.push(m.path)},_=m=>{e.commit("setting/removeMenuTag",{type:x.rmTarget,route:m})},i=m=>{e.commit("setting/removeMenuTag",{type:m})},C=()=>{p.replace(`/redirect${c.path}`)};return(m,E)=>{const V=l("ElTag"),B=l("ElIcon"),w=l("ElDropdownItem"),j=l("ElDropdownMenu"),A=l("ElDropdown");return s(),g("div",Ve,[(s(!0),g(M,null,L(a(e).state.setting.menuTags,b=>(s(),u(V,{key:b.title,class:"cper",closable:!d(b)&&r.value,effect:b.curr?"dark":"plain",type:b.curr?"success":"info",onClick:()=>y(b),onClose:()=>_(b)},{default:n(()=>[$(h(m.$t(b.title)),1)]),_:2},1032,["closable","effect","type","onClick","onClose"]))),128)),o("span",xe,[t(A,{showTimeout:0,size:"mini",placement:"bottom-end",trigger:"click"},{dropdown:n(()=>[t(j,null,{default:n(()=>[t(w,{onClick:C},{default:n(()=>[$(h(m.$t("刷新当前")),1)]),_:1}),r.value?(s(),u(w,{key:0,onClick:E[0]||(E[0]=()=>i(a(x).rmCurr))},{default:n(()=>[$(h(m.$t("关闭当前")),1)]),_:1})):v("",!0),r.value?(s(),u(w,{key:1,onClick:E[1]||(E[1]=()=>i(a(x).rmOther))},{default:n(()=>[$(h(m.$t("关闭其他")),1)]),_:1})):v("",!0),r.value?(s(),u(w,{key:2,onClick:E[2]||(E[2]=()=>i(a(x).rmAll))},{default:n(()=>[$(h(m.$t("关闭所有")),1)]),_:1})):v("",!0)]),_:1})]),default:n(()=>[t(V,{type:"info"},{default:n(()=>[t(B,null,{default:n(()=>[t(a(pe))]),_:1})]),_:1})]),_:1})])])}}});const Se={class:"other-setting"},Be={class:"other-setting-item"},je=o("label",{for:"setting-tag"},"头部菜单",-1),Ae={class:"other-setting-item"},Oe=o("label",{for:"setting-tag"},"标签导航",-1),Re={class:"other-setting-item"},Fe=o("label",{for:"setting-tag"},"标签导航",-1),He={name:"IzOther"},Ke=k({...He,setup(f){const e=O({header:!0,bar:!0});return(p,c)=>{const r=l("ElSwitch");return s(),g("div",Se,[o("div",Be,[je,t(r,{id:"setting-tag",modelValue:e.header,"onUpdate:modelValue":c[0]||(c[0]=d=>e.header=d)},null,8,["modelValue"])]),o("div",Ae,[Oe,t(r,{id:"setting-tag",modelValue:e.bar,"onUpdate:modelValue":c[1]||(c[1]=d=>e.bar=d)},null,8,["modelValue"])]),o("div",Re,[Fe,t(r,{id:"setting-tag",modelValue:e.bar,"onUpdate:modelValue":c[2]||(c[2]=d=>e.bar=d)},null,8,["modelValue"])])])}}});const Pe={name:"IzSetting"},Ue=k({...Pe,setup(f){const e=N(T);return(p,c)=>{const r=l("ElDivider"),d=l("ElDrawer");return s(),u(d,{modelValue:a(e).state.setting.settingDrawerVisible,direction:"rtl",size:"280px",withHeader:!1,onClose:c[0]||(c[0]=y=>a(e).commit("setting/settingDrawerVisibleChanged"))},{default:n(()=>[t(r,null,{default:n(()=>[$("其他设置")]),_:1}),t(Ke)]),_:1},8,["modelValue"])}}}),qe={class:"layout-aside"},Ge={class:"logo"},Je=["src"],Qe=o("span",null,"vue3-admin",-1),We={class:"menu-container"},Xe=o("footer",{class:"copyright"},[o("span",null,"@2020 imzbf")],-1),Ye={key:1,class:"layout-aside"},Ze={class:"logo"},et=["src"],tt={key:0},nt={class:"menu-container"},st={key:0,class:"copyright"},ot=o("span",null,"@2020 imzbf",-1),at=[ot],lt={class:"layout"},it={class:"layout-main"},ut={class:"drawer"},ct="Layout",rt={name:ct},ht=k({...rt,setup(f){const e=N(T),p=I(()=>{const d=["wrapper"];return e.state.setting.aside!=="open"&&d.push("aside-close"),e.state.setting.isMobile&&d.push("is-mobile"),d}),c=I(()=>e.state.setting.aside==="open"),r=()=>{e.commit("setting/adjustMobileDrawer",{mobileDrawer:!e.state.setting.mobileDrawer})};return(d,y)=>{const _=l("ElDrawer"),i=l("RouterView");return s(),g("section",{class:ee(p.value)},[a(e).state.setting.isMobile?(s(),u(_,{key:0,modelValue:a(e).state.setting.mobileDrawer,direction:"ltr",size:"auto",withHeader:!1,customClass:"mobile-menu-drawer",onClose:r},{default:n(()=>[o("div",qe,[o("header",Ge,[o("img",{src:a(K)},null,8,Je),Qe]),o("div",We,[t(H)]),Xe])]),_:1},8,["modelValue"])):(s(),g("div",Ye,[o("header",Ze,[o("img",{src:a(K)},null,8,et),c.value?(s(),g("span",tt,"vue3-admin")):v("",!0)]),o("div",nt,[t(H)]),c.value?(s(),g("footer",st,at)):v("",!0)])),o("div",lt,[t(Ce),t(Le),o("main",it,[t(i,null,{default:n(({Component:C})=>[t(te,{name:"fade",mode:"out-in"},{default:n(()=>[(s(),u(se,{include:a(e).state.setting.cacheList},[(s(),u(ne(C)))],1032,["include"]))]),_:2},1024)]),_:1})])]),o("div",ut,[t(Ue)])],2)}}});export{ht as default};
