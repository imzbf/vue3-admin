import{q as v}from"./table-f7443b5a.js";import{_ as y}from"./index.vue_vue_type_script_setup_true_lang-9af97c0c.js";import{d as T,n as _,A as C,r as i,i as S,e as s,a as l,w as t,o as k,p as g,t as u}from"./index-e20ef559.js";const z={class:"page-list"},U={class:"view-space"},B={class:"page-search"},I={class:"page-data"},P=["href"],W={class:"page-pagination"},F="List",q={name:F},L=T({...q,setup(N){const o=_({title:"",type:"",code:"",tags:""}),n=_({list:[],params:{page:1,pageSize:10},total:0});C(()=>{v({...o,...n.params}).then(e=>{if(e.code===0)n.list=e.data.list,n.total=e.data.total;else throw e}).catch(e=>{console.error(e)})});const h=()=>{},f=e=>{console.log(e)};return(e,d)=>{const m=i("ElInput"),p=i("ElFormItem"),c=i("ElButton"),V=i("ElForm"),r=i("ElTableColumn"),$=i("ElSwitch"),E=i("ElTable"),w=i("ElPagination");return k(),S("div",z,[s("div",U,[l(y,null,{default:t(()=>[s("div",B,[l(V,{inline:"",model:o},{default:t(()=>[l(p,{label:e.$t("标题")},{default:t(()=>[l(m,{modelValue:o.title,"onUpdate:modelValue":d[0]||(d[0]=a=>o.title=a),placeholder:e.$t("标题"),clearable:!0},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,{label:e.$t("类型")},{default:t(()=>[l(m,{modelValue:o.type,"onUpdate:modelValue":d[1]||(d[1]=a=>o.type=a),placeholder:e.$t("类型"),clearable:!0},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,{label:e.$t("编码")},{default:t(()=>[l(m,{modelValue:o.code,"onUpdate:modelValue":d[2]||(d[2]=a=>o.code=a),placeholder:e.$t("编码"),clearable:!0},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,null,{default:t(()=>[l(c,{type:"primary",onClick:h},{default:t(()=>[g(u(e.$t("查询")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),s("div",I,[l(E,{data:n.list,border:"",stripe:""},{default:t(()=>[l(r,{prop:"id",align:"center",label:"ID",minWidth:"70"}),l(r,{prop:"code",align:"center",label:e.$t("编码"),width:"100"},null,8,["label"]),l(r,{label:e.$t("标题"),minWidth:"330"},{default:t(a=>[s("a",{class:"ex-link",href:"/a/"+a.row.code,target:"_blank"},u(a.row.title),9,P)]),_:1},8,["label"]),l(r,{prop:"createdTime",align:"center",label:e.$t("创建时间"),minWidth:"170"},null,8,["label"]),l(r,{prop:"hits",align:"center",label:e.$t("点击数"),minWidth:"100"},null,8,["label"]),l(r,{prop:"status",align:"center",label:e.$t("状态"),width:"90"},{default:t(a=>[l($,{modelValue:a.row.status,"onUpdate:modelValue":b=>a.row.status=b,activeValue:1,inactiveValue:0,onChange:b=>f(a.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1},8,["label"]),l(r,{prop:"updatedTime",align:"center",label:e.$t("更新时间"),minWidth:"170"},null,8,["label"]),l(r,{prop:"updatedTime",align:"center",label:e.$t("操作"),width:"160"},{default:t(()=>[l(c,{size:"small",plain:"",type:"primary"},{default:t(()=>[g(u(e.$t("编辑")),1)]),_:1}),l(c,{size:"small",type:"danger",plain:""},{default:t(()=>[g(u(e.$t("删除")),1)]),_:1})]),_:1},8,["label"])]),_:1},8,["data"])]),s("div",W,[l(w,{currentPage:n.params.page,"onUpdate:currentPage":d[3]||(d[3]=a=>n.params.page=a),pageSize:n.params.pageSize,layout:"jumper, prev, pager, next, total",total:n.total,background:""},null,8,["currentPage","pageSize","total"])])]),_:1})])])}}});export{L as default};
