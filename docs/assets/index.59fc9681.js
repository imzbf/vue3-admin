import{d as I,r as C,n as v,O as R,P as d,Q as m,S as g,U,h as D,f as s,u,b as o,w as a,V as L,W as z,E as b,a as l,p as N,o as M,A as q,X as K,e as p,q as O}from"./index.74cafab2.js";import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang.d9c566f4.js";const j={class:"login-container"},P={class:"login-asset"},T=["src"],W={class:"login-form"},$=s("h1",{class:"form-title"},"\u540E\u53F0\u7BA1\u7406\u6A21\u677F",-1),H={class:"form-item"},Q={class:"form-item"},X={class:"form-item",style:{"margin-bottom":"14px"}},G=s("span",{class:"forget-p-help cper"},"\u5FD8\u8BB0\u5BC6\u7801\uFF1F",-1),J={class:"form-item"},Z={class:"form-item"},ee=z('<ul class="oauth"><li class="cper"><svg class="icon login-icon" aria-hidden="true"><use xlink:href="#icon-facebook"></use></svg></li><li class="cper"><svg class="icon login-icon" aria-hidden="true"><use xlink:href="#icon-google_plus"></use></svg></li><li class="cper"><svg class="icon login-icon" aria-hidden="true"><use xlink:href="#icon-qq"></use></svg></li><li class="cper"><svg class="icon login-icon" aria-hidden="true"><use xlink:href="#icon-wechat"></use></svg></li><li class="cper"><svg class="icon login-icon" aria-hidden="true"><use xlink:href="#icon-github"></use></svg></li></ul>',1),oe="Login",se={name:oe},ie=I({...se,setup(te){const k=new URL("https://imzbf.github.io/vue3-admin/assets/login-bg.be4dfcf1.svg",self.location).href,B=new URL("https://imzbf.github.io/vue3-admin/assets/login-bg-dark.778521a9.svg",self.location).href,E=new URL("https://imzbf.github.io/vue3-admin/assets/login-body.17b3401e.svg",self.location).href,e=C({info:{username:"admin",password:"admin"},remembered:!0,spinning:!1}),c=N(O),F=v(()=>c.state.setting.theme==="dark"?B:k),w=v(()=>c.state.setting.theme==="dark"?"icon-sun":"icon-moon"),_=()=>{e.info.username!==""&&e.info.password!==""?(e.spinning=!0,c.dispatch("user/login",{...e.info,remembered:e.remembered}).then(()=>{e.remembered?(localStorage.setItem(g,e.remembered+""),localStorage.setItem(d,e.info.username),localStorage.setItem(m,e.info.password)):(localStorage.removeItem(g),localStorage.removeItem(d),localStorage.removeItem(m))}).catch(t=>{e.spinning=!1,b.error((t==null?void 0:t.msg)||"\u672A\u77E5\u7684\u5F02\u5E38\uFF01")})):b.error("\u767B\u5F55\u4FE1\u606F\u4E0D\u80FD\u4E3A\u7A7A\uFF01")},f=t=>{t.keyCode==13&&_()},y=()=>{c.commit("setting/themeChanged",{theme:c.state.setting.theme==="dark"?"light":"dark"})};return R(()=>{document.addEventListener("keyup",f);const t=localStorage.getItem(d),n=localStorage.getItem(m),i=localStorage.getItem(g);t&&n&&(e.info.username=t,e.info.password=n,e.remembered=!!i)}),U((t,n,i)=>{document.removeEventListener("keyup",f),i()}),(t,n)=>{const i=l("el-icon"),h=l("el-input"),x=l("el-checkbox"),S=l("el-popconfirm"),V=l("el-button"),A=l("el-divider");return M(),D("div",{id:"login",class:"login",style:L({background:`url(${u(E)})`})},[s("div",j,[s("div",P,[s("img",{src:u(F),width:"500"},null,8,T)]),s("div",W,[$,s("div",H,[o(h,{modelValue:e.info.username,"onUpdate:modelValue":n[0]||(n[0]=r=>e.info.username=r),size:"large",type:"text",placeholder:"username: 1",clearable:""},{prefix:a(()=>[o(i,{class:"el-input__icon"},{default:a(()=>[o(u(q))]),_:1})]),_:1},8,["modelValue"])]),s("div",Q,[o(h,{modelValue:e.info.password,"onUpdate:modelValue":n[1]||(n[1]=r=>e.info.password=r),size:"large",type:"password","show-password":"",placeholder:"password: 1",clearable:""},{prefix:a(()=>[o(i,{class:"el-input__icon"},{default:a(()=>[o(u(K))]),_:1})]),_:1},8,["modelValue"])]),s("div",X,[o(x,{modelValue:e.remembered,"onUpdate:modelValue":n[2]||(n[2]=r=>e.remembered=r)},{default:a(()=>[p(" \u8BB0\u4F4F\u6211 ")]),_:1},8,["modelValue"]),o(S,{title:"\u81EA\u884C\u5B9E\u73B0\uFF01","confirm-button-text":"\u597D\u7684","cancel-button-text":"\u88AB\u8FEB\u597D\u7684"},{reference:a(()=>[G]),_:1})]),s("div",J,[o(V,{type:"primary",style:{width:"100%"},loading:e.spinning,onClick:_},{default:a(()=>[p(" \u767B\u5F55 ")]),_:1},8,["loading"])]),s("div",Z,[o(A,null,{default:a(()=>[p("OR")]),_:1}),ee])]),o(Y,{class:"adjust-theme",type:u(w),onClick:y},null,8,["type"])])],4)}}});export{ie as default};
