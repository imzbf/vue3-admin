import{d as B,p as $,k as D,n as N,m as M,A as P,N as m,P as u,B as p,C as R,r as i,i as U,e as n,a as s,w as a,c as S,D as L,E as b,o as _,f as c,q as f,t as g}from"./index-0a579450.js";import{u as j,l as q,s as z,m as A}from"./index-be688e05.js";import{_ as K}from"./index.vue_vue_type_script_setup_true_lang-a478825d.js";const Y={class:"login"},O={class:"login-container"},T={class:"login-form"},H={class:"form-item"},W={class:"form-item"},F={class:"form-item",style:{"margin-bottom":"14px"}},G={class:"forget-p-help cper"},J={class:"form-item"},Q={class:"form-item"},X=L('<ul class="oauth"><li class="cper"><svg class="icon login-icon" aria-hidden="true"><use xlink:href="#icon-facebook"></use></svg></li><li class="cper"><svg class="icon login-icon" aria-hidden="true"><use xlink:href="#icon-google_plus"></use></svg></li><li class="cper"><svg class="icon login-icon" aria-hidden="true"><use xlink:href="#icon-qq"></use></svg></li><li class="cper"><svg class="icon login-icon" aria-hidden="true"><use xlink:href="#icon-wechat"></use></svg></li><li class="cper"><svg class="icon login-icon" aria-hidden="true"><use xlink:href="#icon-github"></use></svg></li></ul>',1),Z={class:"login-actions"},ee="Login",oe={name:ee},le=B({...oe,setup(se){const e=$({info:{username:"admin",password:"admin"},remembered:!0,spinning:!1}),d=D(),w=N(),y=M(()=>d.state.theme==="dark"),h=()=>{e.info.username!==""&&e.info.password!==""?(e.spinning=!0,w.login({...e.info,remembered:e.remembered}).then(()=>{e.remembered?(localStorage.setItem(p,e.remembered+""),localStorage.setItem(m,e.info.username),localStorage.setItem(u,e.info.password)):(localStorage.removeItem(p),localStorage.removeItem(m),localStorage.removeItem(u))}).catch(o=>{e.spinning=!1,b.error((o==null?void 0:o.msg)||"未知的异常！")})):b.error("登录信息不能为空！")},v=o=>{o.keyCode==13&&h()},k=()=>{d.themeChanged(d.state.theme==="dark"?"light":"dark")};return P(()=>{document.addEventListener("keyup",v);const o=localStorage.getItem(m),t=localStorage.getItem(u),l=localStorage.getItem(p);o&&t&&(e.info.username=o,e.info.password=t,e.remembered=!!l)}),R((o,t,l)=>{document.removeEventListener("keyup",v),l()}),(o,t)=>{const l=i("ElIcon"),E=i("ElInput"),I=i("ElCheckbox"),V=i("ElPopconfirm"),C=i("ElButton"),x=i("ElDivider");return _(),U("div",Y,[n("div",O,[n("div",T,[n("div",H,[s(E,{modelValue:e.info.username,"onUpdate:modelValue":t[0]||(t[0]=r=>e.info.username=r),size:"large",type:"text",placeholder:o.$t("用户名"),clearable:""},{prefix:a(()=>[s(l,{class:"el-input__icon"},{default:a(()=>[s(c(j))]),_:1})]),_:1},8,["modelValue","placeholder"])]),n("div",W,[s(E,{modelValue:e.info.password,"onUpdate:modelValue":t[1]||(t[1]=r=>e.info.password=r),size:"large",type:"password",showPassword:"",placeholder:o.$t("密码"),clearable:""},{prefix:a(()=>[s(l,{class:"el-input__icon"},{default:a(()=>[s(c(q))]),_:1})]),_:1},8,["modelValue","placeholder"])]),n("div",F,[s(I,{modelValue:e.remembered,"onUpdate:modelValue":t[2]||(t[2]=r=>e.remembered=r)},{default:a(()=>[f(g(o.$t("记住我")),1)]),_:1},8,["modelValue"]),s(V,{title:o.$t("开发中")},{reference:a(()=>[n("span",G,g(o.$t("忘记密码？")),1)]),_:1},8,["title"])]),n("div",J,[s(C,{type:"primary",style:{width:"100%"},loading:e.spinning,onClick:h},{default:a(()=>[f(g(o.$t("登录")),1)]),_:1},8,["loading"])]),n("div",Q,[s(x,null,{default:a(()=>[f("OR")]),_:1}),X])]),n("div",Z,[y.value?(_(),S(l,{key:0,class:"adjust-theme",onClick:k},{default:a(()=>[s(c(z))]),_:1})):(_(),S(l,{key:1,class:"adjust-theme",onClick:k},{default:a(()=>[s(c(A))]),_:1})),s(K,{size:"small"})])])])}}});export{le as default};
