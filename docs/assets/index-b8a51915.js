import{H as re,B as ie,O as $,D as A,T as B,$ as U,a0 as q,_ as Z,X as ue,I as v,R as ce,a2 as de,x as G,Y as j,W as pe,a5 as me,Z as R,a6 as fe,a1 as ge,ak as ve,N as ye,a7 as be,a8 as Ce,ax as K,ay as he}from"./index-421ab8f7.js";import{e as c,g as ze,r as N,k,u as o,x as h,y as f,z as w,B as O,P as D,I as x,J,A as E,D as g,O as Q,w as W,aC as Te,o as Se,H as C,E as Ne,L as S,K as xe,F as Ie,Q as V,a as X,i as M}from"./runtime-core.esm-bundler-65d2a1d3.js";const Be=["","default","small","large"],es={large:40,default:32,small:24},ke=s=>s,Y=Symbol("formContextKey"),we=Symbol("formItemContextKey"),ee=s=>{const t=ze();return c(()=>{var e,n;return(n=((e=t.proxy)==null?void 0:e.$props)[s])!=null?n:void 0})},Ee=re({type:String,values:Be,required:!1}),ss=(s,t={})=>{const e=N(void 0),n=t.prop?e:ee("size"),a=t.global?e:ie("size"),r=t.form?{size:void 0}:k(Y,void 0),i=t.formItem?{size:void 0}:k(we,void 0);return c(()=>n.value||o(s)||(i==null?void 0:i.size)||(r==null?void 0:r.size)||a.value||"")},ts=s=>{const t=ee("disabled"),e=k(Y,void 0);return c(()=>t.value||o(s)||(e==null?void 0:e.disabled)||!1)},Me=$({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),_e=["textContent"],$e=h({name:"ElBadge"}),Oe=h({...$e,props:Me,setup(s,{expose:t}){const e=s,n=A("badge"),a=c(()=>e.isDot?"":B(e.value)&&B(e.max)?e.max<e.value?`${e.max}+`:`${e.value}`:`${e.value}`);return t({content:a}),(r,i)=>(f(),w("div",{class:g(o(n).b())},[O(r.$slots,"default"),D(q,{name:`${o(n).namespace.value}-zoom-in-center`,persisted:""},{default:x(()=>[J(E("sup",{class:g([o(n).e("content"),o(n).em("content",r.type),o(n).is("fixed",!!r.$slots.default),o(n).is("dot",r.isDot)]),textContent:Q(o(a))},null,10,_e),[[U,!r.hidden&&(o(a)||r.isDot)]])]),_:1},8,["name"])],2))}});var De=Z(Oe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const Pe=ue(De),_={},Le=$({a11y:{type:Boolean,default:!0},locale:{type:v(Object)},size:Ee,button:{type:v(Object)},experimentalFeatures:{type:v(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:v(Object)},zIndex:Number,namespace:{type:String,default:"el"}}),ns=h({name:"ElConfigProvider",props:Le,setup(s,{slots:t}){W(()=>s.message,n=>{Object.assign(_,n??{})},{immediate:!0,deep:!0});const e=ce(s);return()=>O(t,"default",{config:e==null?void 0:e.value})}}),se=["success","info","warning","error"],u=ke({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:G?document.body:void 0}),Fe=$({customClass:{type:String,default:u.customClass},center:{type:Boolean,default:u.center},dangerouslyUseHTMLString:{type:Boolean,default:u.dangerouslyUseHTMLString},duration:{type:Number,default:u.duration},icon:{type:de,default:u.icon},id:{type:String,default:u.id},message:{type:v([String,Object,Function]),default:u.message},onClose:{type:v(Function),required:!1},showClose:{type:Boolean,default:u.showClose},type:{type:String,values:se,default:u.type},offset:{type:Number,default:u.offset},zIndex:{type:Number,default:u.zIndex},grouping:{type:Boolean,default:u.grouping},repeatNum:{type:Number,default:u.repeatNum}}),He={destroy:()=>!0},d=Te([]),je=s=>{const t=d.findIndex(a=>a.id===s),e=d[t];let n;return t>0&&(n=d[t-1]),{current:e,prev:n}},Re=s=>{const{prev:t}=je(s);return t?t.vm.exposed.bottom.value:0},Ke=["id"],Ve=["innerHTML"],Ae=h({name:"ElMessage"}),Ue=h({...Ae,props:Fe,emits:He,setup(s,{expose:t}){const e=s,{Close:n}=ge,a=A("message"),r=N(),i=N(!1),p=N(0);let m;const z=c(()=>e.type?e.type==="error"?"danger":e.type:"info"),P=c(()=>{const l=e.type;return{[a.bm("icon",l)]:l&&j[l]}}),b=c(()=>e.icon||j[e.type]||""),ne=c(()=>Re(e.id)),L=c(()=>e.offset+ne.value),oe=c(()=>p.value+L.value),ae=c(()=>({top:`${L.value}px`,zIndex:e.zIndex}));function I(){e.duration!==0&&({stop:m}=ve(()=>{T()},e.duration))}function F(){m==null||m()}function T(){i.value=!1}function le({code:l}){l===ye.esc&&T()}return Se(()=>{I(),i.value=!0}),W(()=>e.repeatNum,()=>{F(),I()}),pe(document,"keydown",le),me(r,()=>{p.value=r.value.getBoundingClientRect().height}),t({visible:i,bottom:oe,close:T}),(l,H)=>(f(),C(q,{name:o(a).b("fade"),onBeforeLeave:l.onClose,onAfterLeave:H[0]||(H[0]=We=>l.$emit("destroy")),persisted:""},{default:x(()=>[J(E("div",{id:l.id,ref_key:"messageRef",ref:r,class:g([o(a).b(),{[o(a).m(l.type)]:l.type&&!l.icon},o(a).is("center",l.center),o(a).is("closable",l.showClose),l.customClass]),style:Ne(o(ae)),role:"alert",onMouseenter:F,onMouseleave:I},[l.repeatNum>1?(f(),C(o(Pe),{key:0,value:l.repeatNum,type:o(z),class:g(o(a).e("badge"))},null,8,["value","type","class"])):S("v-if",!0),o(b)?(f(),C(o(R),{key:1,class:g([o(a).e("icon"),o(P)])},{default:x(()=>[(f(),C(xe(o(b))))]),_:1},8,["class"])):S("v-if",!0),O(l.$slots,"default",{},()=>[l.dangerouslyUseHTMLString?(f(),w(Ie,{key:1},[S(" Caution here, message could've been compromised, never use user's input as message "),E("p",{class:g(o(a).e("content")),innerHTML:l.message},null,10,Ve)],2112)):(f(),w("p",{key:0,class:g(o(a).e("content"))},Q(l.message),3))]),l.showClose?(f(),C(o(R),{key:2,class:g(o(a).e("closeBtn")),onClick:fe(T,["stop"])},{default:x(()=>[D(o(n))]),_:1},8,["class","onClick"])):S("v-if",!0)],46,Ke),[[U,i.value]])]),_:3},8,["name","onBeforeLeave"]))}});var qe=Z(Ue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let Ze=1;const te=s=>{const t=!s||V(s)||X(s)||M(s)?{message:s}:s,e={...u,...t};if(!e.appendTo)e.appendTo=document.body;else if(V(e.appendTo)){let n=document.querySelector(e.appendTo);be(n)||(n=document.body),e.appendTo=n}return e},Ge=s=>{const t=d.indexOf(s);if(t===-1)return;d.splice(t,1);const{handler:e}=s;e.close()},Je=({appendTo:s,...t},e)=>{const{nextZIndex:n}=Ce(),a=`message_${Ze++}`,r=t.onClose,i=document.createElement("div"),p={...t,zIndex:n()+t.zIndex,id:a,onClose:()=>{r==null||r(),Ge(b)},onDestroy:()=>{K(null,i)}},m=D(qe,p,M(p.message)||X(p.message)?{default:M(p.message)?p.message:()=>p.message}:null);m.appContext=e||y._context,K(m,i),s.appendChild(i.firstElementChild);const z=m.component,b={id:a,vnode:m,vm:z,handler:{close:()=>{z.exposed.visible.value=!1}},props:m.component.props};return b},y=(s={},t)=>{if(!G)return{close:()=>{}};if(B(_.max)&&d.length>=_.max)return{close:()=>{}};const e=te(s);if(e.grouping&&d.length){const a=d.find(({vnode:r})=>{var i;return((i=r.props)==null?void 0:i.message)===e.message});if(a)return a.props.repeatNum+=1,a.props.type=e.type,a.handler}const n=Je(e,t);return d.push(n),n.handler};se.forEach(s=>{y[s]=(t={},e)=>{const n=te(t);return y({...n,type:s},e)}});function Qe(s){for(const t of d)(!s||s===t.props.type)&&t.handler.close()}y.closeAll=Qe;y._context=null;const os=he(y,"$message");export{ns as C,Pe as E,Be as a,we as b,es as c,ss as d,ts as e,Y as f,os as g,ke as m,Ee as u};
