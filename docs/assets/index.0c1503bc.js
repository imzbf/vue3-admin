var N=Object.defineProperty,U=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var w=(a,o,s)=>o in a?N(a,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[o]=s,_=(a,o)=>{for(var s in o||(o={}))M.call(o,s)&&w(a,s,o[s]);if(F)for(var s of F(o))q.call(o,s)&&w(a,s,o[s]);return a},p=(a,o)=>U(a,z(o));import{d as K,r as Y,q as y,B as j,N as f,P as h,C as v,D as O,g as P,e as i,u as t,b as n,w as c,G as T,h as $,n as G,E as x,a as d,o as H,f as b,p as W}from"./index.ed827f05.js";import{_ as J}from"./index.e7d8b1d7.js";import{u as Q,l as X}from"./user.3f5f27f2.js";import"./plugin-vue_export-helper.41ffa612.js";const Z={class:"login-container"},ee={class:"login-asset"},oe=["src"],se={class:"login-form"},te=i("h1",{class:"form-title"},"\u540E\u53F0\u7BA1\u7406\u6A21\u677F",-1),ne={class:"form-item"},ie={class:"form-item"},ae={class:"form-item",style:{"margin-bottom":"14px"}},le=b(" \u8BB0\u4F4F\u6211 "),re=i("span",{class:"forget-p-help cper"},"\u5FD8\u8BB0\u5BC6\u7801\uFF1F",-1),ce={class:"form-item"},ue=b(" \u767B\u5F55 "),de={class:"form-item"},me=b("OR"),ge=$('<ul class="oauth"><li class="cper"><svg class="icon login-icon" aria-hidden="true"><use xlink:href="#icon-facebook"></use></svg></li><li class="cper"><svg class="icon login-icon" aria-hidden="true"><use xlink:href="#icon-google_plus"></use></svg></li><li class="cper"><svg class="icon login-icon" aria-hidden="true"><use xlink:href="#icon-qq"></use></svg></li><li class="cper"><svg class="icon login-icon" aria-hidden="true"><use xlink:href="#icon-wechat"></use></svg></li><li class="cper"><svg class="icon login-icon" aria-hidden="true"><use xlink:href="#icon-github"></use></svg></li></ul>',1),_e="Login",pe={name:_e},Be=K(p(_({},pe),{setup(a){const o=new URL("https://imzbf.github.io/vue3-admin/assets/login-bg.be4dfcf1.svg",self.location).href,s=new URL("https://imzbf.github.io/vue3-admin/assets/login-bg-dark.778521a9.svg",self.location).href,S=new URL("https://imzbf.github.io/vue3-admin/assets/login-body.17b3401e.svg",self.location).href,e=Y({info:{username:"admin",password:"admin"},remembered:!0,spinning:!1}),m=G(W),V=y(()=>m.state.setting.theme==="dark"?s:o),A=y(()=>m.state.setting.theme==="dark"?"icon-sun":"icon-moon"),k=()=>{e.info.username!==""&&e.info.password!==""?(e.spinning=!0,m.dispatch("user/login",p(_({},e.info),{remembered:e.remembered})).then(()=>{e.remembered?(localStorage.setItem(v,e.remembered+""),localStorage.setItem(f,e.info.username),localStorage.setItem(h,e.info.password)):(localStorage.removeItem(v),localStorage.removeItem(f),localStorage.removeItem(h))}).catch(l=>{e.spinning=!1,x.error((l==null?void 0:l.msg)||"\u672A\u77E5\u7684\u5F02\u5E38\uFF01")})):x.error("\u767B\u5F55\u4FE1\u606F\u4E0D\u80FD\u4E3A\u7A7A\uFF01")},B=l=>{l.keyCode==13&&k()},C=()=>{m.commit("setting/themeChanged",{theme:m.state.setting.theme==="dark"?"light":"dark"})};return j(()=>{document.addEventListener("keyup",B);const l=localStorage.getItem(f),r=localStorage.getItem(h),u=localStorage.getItem(v);l&&r&&(e.info.username=l,e.info.password=r,e.remembered=!!u)}),O((l,r,u)=>{document.removeEventListener("keyup",B),u()}),(l,r)=>{const u=d("el-icon"),E=d("el-input"),I=d("el-checkbox"),D=d("el-popconfirm"),R=d("el-button"),L=d("el-divider");return H(),P("div",{id:"login",class:"login",style:T({background:`url(${t(S)})`})},[i("div",Z,[i("div",ee,[i("img",{src:t(V),width:"500"},null,8,oe)]),i("div",se,[te,i("div",ne,[n(E,{modelValue:t(e).info.username,"onUpdate:modelValue":r[0]||(r[0]=g=>t(e).info.username=g),size:"large",type:"text",placeholder:"username: 1"},{prefix:c(()=>[n(u,{class:"el-input__icon"},{default:c(()=>[n(t(Q))]),_:1})]),_:1},8,["modelValue"])]),i("div",ie,[n(E,{modelValue:t(e).info.password,"onUpdate:modelValue":r[1]||(r[1]=g=>t(e).info.password=g),size:"large",type:"password","show-password":"",placeholder:"password: 1"},{prefix:c(()=>[n(u,{class:"el-input__icon"},{default:c(()=>[n(t(X))]),_:1})]),_:1},8,["modelValue"])]),i("div",ae,[n(I,{modelValue:t(e).remembered,"onUpdate:modelValue":r[2]||(r[2]=g=>t(e).remembered=g)},{default:c(()=>[le]),_:1},8,["modelValue"]),n(D,{title:"\u81EA\u884C\u5B9E\u73B0\uFF01","confirm-button-text":"\u597D\u7684","cancel-button-text":"\u88AB\u8FEB\u597D\u7684"},{reference:c(()=>[re]),_:1})]),i("div",ce,[n(R,{type:"primary",style:{width:"100%"},loading:t(e).spinning,onClick:k},{default:c(()=>[ue]),_:1},8,["loading"])]),i("div",de,[n(L,null,{default:c(()=>[me]),_:1}),ge])]),n(J,{class:"adjust-theme",type:t(A),onClick:C},null,8,["type"])])],4)}}}));export{Be as default};
